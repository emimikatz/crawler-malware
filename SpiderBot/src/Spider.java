import java.util.ArrayList;

public class Spider {

	/* Attributes */
	private boolean debugMode; 			/* True if debug mode is enabled, False otherwise */
	private boolean withInternet ; 		/* True if there is internet connection, False otherwise */
	private long tStart; 				/* Current time in seconds */
	private ArrayList<Source> sources; 	/* List of all sources */
	private boolean withSources; 		/* True if sources is not empty, False otherwise */
	private ArrayList<Word> words; 		/* List of all words */
	private boolean withWords; 			/* True if words is not empty, False otherwise */
	private ArrayList<Article> articles; /* List of articles */
	private int nArticles; 				/* Number of articles from sources */
	private int nNotifications; 			/* Number of articles from sources that matched words (the user's keywords) */
	private String languague; 			/* Language of the current user */
	private String outputFile;			/* Name of the output file */
	
	
	
	
	/* Constructors */
	public Spider() 
	{
		this.debugMode = Main.debug;
		this.withInternet = false;
		this.tStart = SuissArmyKnife.get_start_time();
		this.sources = new ArrayList<Source>();
		this.withSources = false;
		this.words = new ArrayList<Word>();
		this.withWords = false;
		this.articles = new ArrayList<Article>();
		this.nArticles = 0;
		this.nNotifications = 0;
		this.languague = "en";
		this.outputFile = Main.output_file;
	}
	
	public Spider(boolean debugMode, boolean withInternet, long tStart, ArrayList<Source> sources, boolean withSources, 
				  ArrayList<Word> words, boolean withWords, ArrayList<Article> articles, 	int nArticles, int nNotifications, 
				  String languague, String outputFile ) 
	{
		this.debugMode = debugMode;
		this.withInternet = withInternet;
		this.tStart = tStart;
		this.sources = sources;
		this.withSources = withSources;
		this.words = words;
		this.withWords = withWords;
		this.articles = articles;
		this.nArticles = nArticles;
		this.nNotifications = nNotifications;
		this.languague = languague;
		this.outputFile = outputFile;
	}

	
	
	/* debugMode */
	public boolean isDebugMode() {
		return debugMode;
	}

	public void setDebugMode(boolean debugMode) {
		this.debugMode = debugMode;
	}

	
	/* withInternet */
	public boolean isWithInternet() {
		return withInternet;
	}

	public void setWithInternet(boolean withInternet) {
		this.withInternet = withInternet;
	}

	
	/* tStart */
	public long gettStart() {
		return tStart;
	}

	public void settStart(long tStart) {
		this.tStart = tStart;
	}

	
	/* sources */
	public ArrayList<Source> getSources() {
		return sources;
	}

	public void setSources(ArrayList<Source> sources) {
			this.sources = sources;
	}

	
	/* withSources */
	public boolean isWithSources() {
		return withSources;
	}

	public void setWithSources(boolean withSources) {
		this.withSources = withSources;
	}
	
	public boolean checkSourcesChoosen(ArrayList<Source> sources)
	{
		for ( int i=0 ; i<this.sources.size() ; i++)
		{
			if ( this.sources.get(i).isChoosen() )
				return true;
		}
		
		System.out.println("\tError: No sources choosen, please check ../~/sources.xml");
		System.exit(-1);
		return false;
	}

	
	/* words */
	public ArrayList<Word> getWords() {
		return words;
	}

	public void setWords(ArrayList<Word> words) {
		this.words = words;
	}
	
	
	/* withWords */
	public boolean isWithWords() {
		return withWords;
	}

	public void setWithWords(boolean withWords) {
		this.withWords = withWords;
	}
	
	public boolean checkWordsUsed(ArrayList<Word> words)
	{
		for ( int i=0 ; i<words.size() ; i++)
		{
			if ( this.words.get(i).isUsed() )
				return true;
		}

		System.out.println("\tError: No sources choosen, please check ../~/words.xml");
		System.exit(-1);
		return false;
	}

	
	/* articles */
	public ArrayList<Article> getArticles() {
		return articles;
	}

	public void setArticles(ArrayList<Article> articles) {
		this.articles = articles;
	}
	

	/* nArticles */
	public int getnArticles() {
		return nArticles;
	}

	public void setnArticles(int nArticles) {
		this.nArticles = nArticles;
	}

	
	/* nNotifications */
	public int getnNotifications() {
		return nNotifications;
	}

	public void setnNotifications(int nNotifications) {
		this.nNotifications = nNotifications;
	}

		
	/* languague */
	public String getLanguague() {
		return languague;
	}

	public void setLanguague(String languague) {
		this.languague = languague;
	}

	
	/* outputFile */
	public String getOutputFile() {
		return outputFile;
	}

	public void setOutputFile(String outputFile) {

		this.outputFile = outputFile;
	}

	
	
	/* Print all attributes of an article */
	public void print_spider()
	{
		System.out.println("\t" + "Spider: ");
		System.out.println("\tDebugMode: " + this.isDebugMode());
		System.out.println("\tWithInternet: " +  this.isWithInternet());
		System.out.println("\ttStart: " + this.gettStart());
		System.out.println("\twithSources: " + this.isWithSources() );
		System.out.println("\twithWords: " + this.isWithWords());
		System.out.println("\tnArticles: " + this.getnArticles());
		System.out.println("\tnNotifications: " + this.getnNotifications());
		System.out.println("\tLanguage: " + this.getLanguague());
	}

}