import os
from init_connection import *
from init_database import *

from virustotal_python import Virustotal

dir_path = os.path.dirname(os.path.realpath(__file__))

def main():

    input_user = input("Enter value\n")
    print("Enter 'download' to download files from urlhaus")
    print("Enter 'init' to initializate the database")
    print("Enter 'print' to print the database")
    print("Enter 'count' to count everything in database")
    if input_user == "download":
        db = connect_database()
        request = init_connection_urlhaus()
        parse_csv_urlhaus(db, request)
        print_database(db)
        print_gridfs(db)
    elif input_user == "init":
        init_mongo()
        db = connect_database()
        erase_gridfs(db)
        print_database(db)
        print_gridfs(db)
    elif input_user == "count":
        db = connect_database()
        count_gridfs(db)
        count_database(db)
    elif input_user == "print":
        db = connect_database()
        print_gridfs(db)
        print_database(db)


if __name__ == "__main__":
    main()
